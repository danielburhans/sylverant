

# Why can't any PSOPC/PSOGC users seem to connect to my server? #
Sylverant does not allow users of PSOPC to connect to the server unless they have been previously registered. This decision was made for two reasons: firstly, its my belief that very few PSOPC users will probably be using actual real serial number/access key pairs, and secondly (building off of the first reason) due to how Sylverant doles out Guild Cards to unknown clients. With a blank serial number/access key, all PSOPC clients will be given the same guild card number, which will cause some obvious problems.

In order for a PSOPC client to connect, they must have an entry in the pc\_clients table of the database, an assigned guildcard in the guildcards table, as well as a full entry in the account\_data table. The pc\_clients entry should have the serial number of the client and the access key filled in (convert the serial from decimal to hex).

PSOGC users also need valid accounts, and must be noted in the gamecube\_clients table of the database, much like PSOPC users.

# What commands are available to users on Sylverant? #
Here is the list of currently available commands for regular users on the Sylverant ship server:
  * /login `[`username`]` `[`password`]` -- Login, granting whatever privileges you have on the ship (if any) if login is successful. This is required for both local and global GMs before they can use their powers. Some commands require regular users to login before use (like /enablebk and /disablebk).
  * /logout -- Basically, un-sets the logged in status, disabling access to any commands that need it.
  * /save `[`slot`]` -- Save the current character data to the server for backup purposes. `[`slot`]` is required and can be between 1 and 4 (inclusive). This command can only be executed in a default lobby, not a game lobby. This command is not valid for Blue Burst clients. This command _technically_ works on the Gamecube version of the game, but is useless because the /restore command does not work.
  * /restore `[`slot`]` -- Restore the character data from the given slot on the server (saved previously with /save). Be careful when using this command as PSOPC doesn't seem to like you restoring a character that isn't the same as the one you came on the game with. `[`slot`]` is required and can be between 1 and 4 (inclusive). This command can only be executed in a default lobby, not a game lobby. This command is not valid for Blue Burst clients. This command does not work on the Gamecube versions of the game, as these versions prevent overwriting character data in the lobby.
  * /minlvl `[`level`]` -- Set the minimum required level for the current game lobby. `[`level`]` is required, and must be greater than or equal to the level specified by the game for the difficulty of the game. This command only affects new clients attempting to enter the game, and will not kick anyone currently in the game out. This command can only be executed in a game lobby, not a default lobby. Also, this command is only available to the current team leader.
  * /maxlvl `[`level`]` -- Set the maximum allowed level for the current game lobby. `[`level`]` is required, and must be greater than or equal to the minimum level for the current game lobby. This command only affects new clients attempting to enter the game, and will not kick anyone currently in the game out. This command can only be executed by the team leader and only in a game lobby.
  * /bstat -- Get the number of players and games currently active on the block that you are on. This can be used in a game lobby or a default lobby.
  * /arrow `[`colornumber`]` -- Set the arrow above your head in the lobby (0 = off, max is 10).
  * /lname `[`new lobby name`]` -- Set the name of a game lobby. Only the party leader can use this command.
  * /passwd `[`new lobby password`]` -- Set a new password on a game lobby. Only the party leader can use this command.
  * /bug -- Send user information about reporting a bug.
  * /legit -- This command is only available in game lobbies, and triggers a legit check on the whole team. If the legit check passes (according to the rules on the server), the legit flag is set on the game, which makes it so that anyone coming in must pass the legit check as well. This command can only be used by the party leader.
  * /normal -- Undo the /legit command, if the flag actually got set on the lobby. This command can only be used by the party leader.
  * /friendadd `[`guildcard`]` `[`nickname`]` -- Add a user to your friend list. The nickname is a convenience so you know who someone is, even if they're playing with a new character.
  * /frienddel `[`guildcard`]` -- Remove a user from your friend list.
  * /v1only -- Make a game only available to PSOv1 players. Use "/v1only off" to undo this. This command can only be used by the party leader.
  * /dconly -- Make a game only available to players on the Dreamcast. Use "/dconly off" to undo this. This command can only be used by the party leader.
  * /allowgc -- Make a DC/PC game available to be shown to Gamecube clients (they need to use the corresponding command to see them still). Note that having Gamecube players in the same game as DC/PC players is hackish at best at the moment, and I won't be responsible if anyone loses character data over it. Use "/allowgc off" to undo the command. This command can only be used by the party leader.
  * /showdcpc -- This command only works for Gamecube clients, and allows them to see DC/PC games that have the flag set to allow Gamecube users in. Once again, this support is largely untested and probably will break things. Use at your own risk! Use "/showdcpc off" to undo this command.
  * /ll -- This command lists all the players in the current lobby in a large message window. This command will not work on PSOGC due to the fact that that version doesn't support the large message window packet. For non-GMs, this command will list the slot number and the name of the character (if any) in that slot. For GMs, this will also list the player's guildcard number.
  * /npc `[`npc\_type`]`,`[`client\_id`]`,`[`follow\_id`]` -- This command will spawn an NPC partner to keep you company and fight with you. This command is only valid in game lobbies in normal free play mode with only one person in them. Using this command will lock the game, and nobody else will be allowed in (as NPCs only work properly in single-player games). The `[`npc\_type`]` parameter specifies the NPC that will show up. Valid values range from 0-63. The `[`client\_id`]` parameter specifies which client number the NPC will get. Valid values are from 0-3, and the spot must be unoccupied currently. If you specify the same slot you've previously summoned an NPC to, it will overwrite the old NPC. The `[`follow\_id`]` parameter should be left alone for now. Both `[`client\_id`]` and `[`follow\_id`]` are optional, and if you don't want to specify them you don't have to (leave out the commas as well). If you want to spawn multiple NPCs, you will need to specify the `[`client\_id`]` parameter for each of them. 0 = red, 1 = green, 2 = yellow, 3 = blue, for reference. Note that the parameters are separated by a single comma, no spaces!
  * /ignore `[`client id`]` -- Ignore any sort of communications from the specified user. You can ignore up to 10 people this way. These are per block-session, so they don't stick around when you sign off or change ships/blocks. You can use /ll to get the user's client id.
  * /unignore `[`slot`]` -- Removes an entry from your ignore list. When using the /ignore command, it reports the entry number that it put the user in, that entry number is the argument here. Valid values are from 0-10.
  * /quit -- Lazy man's command to log off the server. In case its easier at a given point in time to type that than to go through the menus to quit.
  * /cc `[`trigger character`]` -- Enables "Color Chat" mode. Essentially, it turns any instance of the trigger character into an escape for doing colors. Follow the trigger character with a C and the value of the color you want to use, and the message will be in that color (0 = black, 1 = dark blue, 2 = green, 3 = cyan, 4 = red, 5 = magenta, 6 = yellow, 7 = white, G = gold (only visible on v2 and later)). You can later disable this with `/cc off`. For instance, if you were to use `/cc $` and then type `$C2Hello $C3World`  you'd end up saying Hello World where the Hello is in green, and the World is in cyan. I recommend using a character you don't normally type much for the trigger char, since otherwise you might screw things up. You can, in theory, use any ASCII character though.
  * /qlang `[`language code`]` -- Set the language to browse quests in (when the server is set up for multi-lingual quests). This also sets your fallback language for if a quest is selected that isn't available in the language your language code says you're in (it first tries your character's language code, then your fallback value (set with this) then the language the leader selected the quest in). Valid language codes are as follows:
    * jp -- Japanese
    * en -- English
    * de -- German
    * fr -- French
    * es -- Spanish
    * cs -- Chinese (Simplified) -- PSOPC Only
    * ct -- Chinese (Traditional) -- PSOPC Only
    * kr -- Korean -- PSOPC Only.
  * /friends `[`page`]` -- Show your friendlist, including each person's online/offline status. Each page of entries is 5 long, and is sorted by the friend's guildcard number. `[`page`]` is 0-based, so `/friends 0` will show the first 5 people in your list.
  * /ver -- Show the SVN revision of the ship you're currently on.
  * /search `[`guildcard`]` -- Perform a search for the specified guildcard number, much like searching for someone with their card (it acts pretty much the same internally).
  * /showmaps -- Show the string of maps in use for the team you're in. Only valid in a game lobby.
  * /restorebk -- Restore your character data from an automatic backup of it. This functionality was added in [r572](https://code.google.com/p/sylverant/source/detail?r=572) to the ship server. Basically, every time you join a game, the server saves a snapshot of your character data. Think of it like an automatic /save functionality. The server will store one copy of each of your characters (where individual characters are determined by a unique <guildcard, name> pair). As with /restore, this command does not work on the Gamecube or Blue Burst versions of the game.
  * /enablebk -- Enable automatic character data backups for the current guildcard. The user must be logged in (with the /login command) in order to use this command. Once enabled, the user doesn't have to be logged in to have their data automatically backed up. Note that this does not enable backups for all guildcards on the account, just the one that is in use when running the command. This command does not work on the Gamecube or Blue Burst versions of the game.
  * /disablebk -- Disable automatic character data backups for the current guildcard. Works just like /enablebk, but in reverse.

# What additional commands are available to GMs on Sylverant? #
  * /kill `[`guildcard`]` `[`reason`]` -- Kick the specified user from the server. `[`guildcard`]` is a required field and must be a numeric guild card number. `[`reason`]` is an optional field that will tell the user why they were kicked from the server. This **does not** ban the user from the server. Note: for Local GMs, this will only work if the GM and the target are on the same **block**. For Global GMs, this will work even if the target is on a different block or a different ship all together.
  * /warp `[`area`]` -- Warp to the specified map. `[`area`]` is a required field, and must be between 0 and 17. This command does not work on PSOv1. This command only works in game lobbies.
  * /warpall `[`area`]` -- Warp everyone in a lobby to the specified map. Has the same semantics as the /warp command. This will not warp anyone on PSOv1, just like /warp.
  * /teleport `[`client id`]` -- This command is meant to be used in two ways... The first thing it can do is to move you to the specified client's current area (it will always do this if the person specified is in a different area than you). The second thing it can do is to move you to the coordinates of the specified person (if you are in the same area to start). It will only do one of the two, so if the person specified is in Caves 2, and you're on Pioneer 2, you'll probably have to use the command twice to get the desired effect (to get to the place where the other user is).
  * /refresh `[`what`]` -- Refresh some server data. `[`what`]` is a required field and must be one the following strings: "gms", "quests", or "limits". It should be obvious what each does.
  * /bcast `[`message`]` -- Send a global message to all players on the current ship.
  * /item `[`item1`]`,`[`item2`]`,`[`item3`]`,`[`item4`]` -- Set the next item that will be generated when **your character** hits a box. `[`item1`]` is the only strictly necessary argument here, the rest will default to 0. Note, these are all 32-bit hex values. If you change your mind, to clear it out, make `[`item1`]` be 0 by using this command again. There are only commas between the arguments, no spaces!
  * /item4 `[`item4`]` -- Set the 4th 32-bit hex value for the next item to be generated. Most versions of PSO don't give you enough space to put in all 4 things in the above command, if you need to use all digits, but you will have enough for at least 3. This is to set the last one, if you run out of room.
  * /makeitem -- Create the item specified with /item (and potentially /item4) immediately and drop it where you stand.
  * /event `[`event code`]` -- Set the current event in lobbies. This will be reflected immediately for any PSOGC users on the ship. Note that lobby events are not supported at all in PSODC/PSOPC. Valid event codes are 0-14.
  * /clinfo `[`client id`]` -- Get some information about a client (name, guildcard, IP address, class and level), which can be useful for administrative commands like /kill. Note that the `[`client id`]` is the index of the player in the lobby -- NOT their guildcard number.
  * /gban:d `[`guildcard`]` `[`reason`]` -- Ban the specified user from the server (globally) for one day. Also available are /gban:w (ban for one week), /gban:m (ban for 1 month), and /gban:p (Permanently ban). This will implicitly /kill the player as well if they're currently connected.
  * /list `[`domain`]` `[`arguments`]` -- List all players in the given domain (l for current lobby, b for current block, s for current ship) that satisfy the list of arguments as well as various information about them (guildcard number, IP address, lobby, etc). The list of arguments can include several types of specifiers (separated by spaces) including:
    * p `[`number`]`: The page number of results to display.
    * n `[`name regular expression`]`: A POSIX-style regular expression to run against the names of clients. This is case-insensitive.
    * mnlv `[`level`]`: The minimum level of characters to display.
    * mxlv `[`level`]`: The maximum level of characters to display.
    * lv `[`level`]`: Only display characters of the specified level (a shortcut for specifying mxlv and mnlv with the same value).
    * c `[`class`]`: The class of the character (case-insensitive).
  * /shutdown `[`minutes`]` -- This command is only available to global and local root users, and schedules the ship for a graceful shutdown in the specified number of minutes. It broadcasts a message to all users that the ship is going down for shutdown, and makes the ship not accept any further incoming connections.
  * /log `[`guildcard`]` -- Start logging all packets sent to or from the specified guildcard. You must be a local or global root to use this command.
  * /endlog `[`guildcard`]` -- Stop logging packets on a client that has had packets logged by running the /log command. Like that command, you must be a local or global root to use this command.
  * /forgegc `[`guildcard`]` `[`name`]` -- Send a guildcard to yourself with the specified guildcard number and name. Added mostly to help in debugging.
  * /invuln -- Make yourself "invulnerable" (you automatically recover 2000 HP every time you're hit). Note that this currently does not help you if the enemy one-hit kills you as this **does not resurrect**. Use "/invuln off" to turn it off after enabling it. Invulnerability is disabled in /legit games.
  * /inftp -- Make yourself have "infinite" TP (you automatically recover 255 TP every time you use a tech). Use "/inftp off" to turn this off after you've enabled it. Infinite TP is disabled in /legit games.
  * /smite `[`client id`]` `[`hp`]` `[`tp`]` -- Smite a client, subtracting the specified amount of hp and tp from their current amounts. Note that this uses a client ID, not a guildcard number (i.e, their index in the lobby). This command is only valid in a game lobby.
  * /dumpinv -- Dump the server's idea of your inventory to stdout. Note that this will probably not actually match up with your inventory at the moment, unless you're in the default lobby or just joined a game lobby. This was added for debugging purposes.
  * /stfu `[`guildcard`]` -- STFUs the client, making it so they can't actually send any chat bubbles, word selects, symbol chats, or simple mails. This will only work on clients in the same block as the GM executing the command, and only for the session in which the command was run (so if the user logs off and logs back on, they'll be able to talk again).
  * /unstfu `[`guildcard`]` -- UnSTFUs a client, undoing that which the /stfu command did. This will only work on clients in the same block as the GM executing the command.
  * /gameevent `[`event code`]` -- This command sets the event in games created on the ship from that point forward. These, unlike lobby events, are supported on all versions of PSO. Valid event codes are from 0-6.
  * /ban:d `[`guildcard`]` `[`reason`]` -- Ban the specified user from the ship for one day. Also available are /ban:w (ban for one week), /ban:m (ban for 1 month), and /ban:p (Permanently ban). This will implicitly /kill the player as well if they're currently connected. This command, unlike the /gban commands is available to local GMs, as well as global GMs.
  * /unban `[`guildcard`]` -- Lift the local ban on the specified guildcard.
  * /gbc `[`message`]` -- Send a global (all ships) broadcast message. Only available to Global GMs, obviously.
  * /restart `[`minutes`]` -- This command is only available to global and local root users, and schedules the ship for a graceful restart in the specified number of minutes. It broadcasts a message to all users that the ship is going down for restart, and makes the ship not accept any further incoming connections until the restart is completed.
  * /gm -- This command presents an inventory of various actions a GM can do. It doesn't contain everything that a GM can do, and it will only show actions that you're allowed to do by your privilege level.
  * /maps `[`map string`]` -- This command sets the maps that will be in use for the next game lobby you try to create. The `[`map string`]` should be a string of up to 32 digits that controls the maps that will be used. Any extra numbers that you don't specify will be 0. To figure out valid entries for each digit, look at the ship\_server/src/lobby.c file for the maps list. The maximum number for any position is one less than the number in that array for the episode that you're going to be playing on in the correct position. Any out-of-range values will be substituted with a randomly selected valid value when the team is created.